# Assignment 4 – Task 1 (Panorama Stitching)

This repository contains the artifacts for Assignment 4. The first task is now
implemented through `task1_stitch.py`, which wraps OpenCV's high-level
`Stitcher` API (as described in the provided *OpenCV High level stitching API*
PDF). The script stitches a sequence of overlapping photos into a panorama and
optionally builds a side-by-side comparison with the panorama generated by a
mobile phone.

## Requirements

- Python 3.9 or newer
- OpenCV with the stitching module:

  ```bash
  python3 -m pip install opencv-python
  # or
  python3 -m pip install opencv-contrib-python
  ```

## Repository Layout

```
images/         # Raw captures to be stitched (default input set)
comparisons/    # Mobile-panorama reference provided by the phone
output/         # Created automatically when running the script
task1_stitch.py # Panorama stitching utility
```

## Running the Stitcher

The default configuration picks up the sample captures inside `./images`. You
can provide your own directory captured on your camera of choice, as long as
the photos have enough overlap (40–60%) and are ordered left-to-right (or
top-to-bottom for portrait panoramas).

```bash
python task1_stitch.py \
  --images ./images \
  --pattern "*.JPG" \
  --output ./output/task1_panorama.jpg \
  --reference ./comparisons/mobile_panaroma.JPG \
  --comparison-output ./output/task1_vs_mobile.jpg
```

Key switches:

- `--images` – folder containing frames to be stitched.
- `--pattern` – glob used to pick files (default `*.JPG`), which allows you to
  isolate a subset such as `IMG_*.JPG`.
- `--resize-max-width` – down-samples frames before stitching to speed up
  processing (set to `0` to disable).
- `--reference` – optional mobile panorama; when supplied, a comparison strip is
  written to `--comparison-output`.
- `--exposure-compensation` – exposes the compensators described in OpenCV's
  Stitcher documentation (`gain_blocks` is the API default).

## Outputs

- `output/panorama_task1.jpg`: the panorama generated from the raw captures.
- `output/task1_comparison.jpg`: a side-by-side comparison (phone panorama on
  the left, stitched result on the right) useful for Task 1's qualitative
  analysis.

After producing the panorama(s), capture screenshots or recordings of the
application and embed the discussion, figures, and citations in the final PDF
submission, as required by the assignment brief.

